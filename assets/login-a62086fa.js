import{d as V,u as x,a as R,b as k,r as C,c as _,e as a,o as $,f as q,g as n,w as r,h as B,t as f,i as l,j as F,k as N,l as E,_ as I}from"./index-df5299c9.js";const K={class:"login-container"},S=V({__name:"login",setup(T){const g=x(),w=R(),i=k(),h=(o,e,s)=>{e.length<6?s(new Error("The password can not be less than 6 digits")):s()},t=C({username:"admin",password:"123456"}),v={username:[{required:!0,trigger:"blur"}],password:[{required:!0,trigger:"blur",validator:h}]};let d=_(!1);const p=_(),m=()=>{p.value.validate(o=>{if(o)d.value=!0,g.login(t).then(()=>{var e;w.replace(((e=i==null?void 0:i.query)==null?void 0:e.redirect)||"/")},e=>{console.warn(e)}).catch(e=>{console.warn(e)}).finally(()=>{d.value=!1});else return console.log("error submit!!"),!1})};return(o,e)=>{const s=a("el-input"),c=a("el-form-item"),y=a("el-button"),b=a("el-form");return $(),q("div",K,[n(b,{ref_key:"loginFormRef",ref:p,model:l(t),rules:v,class:"login-form",autocomplete:"on","label-position":"left"},{default:r(()=>[B("h1",null,f(o.$t("login.title")),1),n(c,{prop:"username"},{default:r(()=>[n(s,{ref:"username",modelValue:l(t).username,"onUpdate:modelValue":e[0]||(e[0]=u=>l(t).username=u),placeholder:o.$t("login.username"),name:"username",type:"text",tabindex:"1",autocomplete:"on"},null,8,["modelValue","placeholder"])]),_:1}),n(c,{prop:"password"},{default:r(()=>[n(s,{ref:"password",modelValue:l(t).password,"onUpdate:modelValue":e[1]||(e[1]=u=>l(t).password=u),type:"password",placeholder:o.$t("login.password"),name:"password",tabindex:"2",autocomplete:"on",onKeyup:F(m,["enter","native"])},null,8,["modelValue","placeholder"])]),_:1}),n(y,{loading:l(d),type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:N(m,["prevent"])},{default:r(()=>[E(f(o.$t("login.logIn")),1)]),_:1},8,["loading"])]),_:1},8,["model"])])}}});const j=I(S,[["__scopeId","data-v-5c2fd5d8"]]);export{j as default};
