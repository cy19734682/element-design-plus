import{d as b,u as V,a as x,b as C,c as R,r as k,e as _,f as l,o as q,g as F,h as n,w as r,i as s,j as I,k as $,l as B,t as E,_ as K}from"./index-aea6d2ed.js";const N={class:"login-container"},S=b({__name:"login",setup(T){const f=V(),g=x(),i=C();R();const w=(t,e,a)=>{e.length<6?a(new Error("The password can not be less than 6 digits")):a()},o=k({username:"admin",password:"123456",validateCode:void 0,uuid:void 0}),v={username:[{required:!0,trigger:"blur"}],password:[{required:!0,trigger:"blur",validator:w}]};let d=_(!1);const p=_(),m=()=>{p.value.validate(t=>{if(t)d.value=!0,f.login(o).then(()=>{var e;g.replace(((e=i==null?void 0:i.query)==null?void 0:e.redirect)||"/")},e=>{console.warn(e)}).catch(e=>{console.warn(e)}).finally(()=>{d.value=!1});else return console.log("error submit!!"),!1})};return(t,e)=>{const a=l("el-input"),c=l("el-form-item"),h=l("el-button"),y=l("el-form");return q(),F("div",N,[n(y,{ref_key:"loginFormRef",ref:p,model:s(o),rules:v,class:"login-form",autocomplete:"on","label-position":"left"},{default:r(()=>[n(c,{prop:"username"},{default:r(()=>[n(a,{ref:"username",modelValue:s(o).username,"onUpdate:modelValue":e[0]||(e[0]=u=>s(o).username=u),placeholder:t.$t("login.username"),name:"username",type:"text",tabindex:"1",autocomplete:"on"},null,8,["modelValue","placeholder"])]),_:1}),n(c,{prop:"password"},{default:r(()=>[n(a,{ref:"password",modelValue:s(o).password,"onUpdate:modelValue":e[1]||(e[1]=u=>s(o).password=u),type:"password",placeholder:t.$t("login.password"),name:"password",tabindex:"2",autocomplete:"on",onKeyup:I(m,["enter","native"])},null,8,["modelValue","placeholder"])]),_:1}),n(h,{loading:s(d),type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:$(m,["prevent"])},{default:r(()=>[B(E(t.$t("login.logIn")),1)]),_:1},8,["loading"])]),_:1},8,["model"])])}}});const j=K(S,[["__scopeId","data-v-e689db89"]]);export{j as default};
